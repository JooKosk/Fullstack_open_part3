{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/personcontrol.js","components/Notification.js","App.js","index.js"],"names":["Filter","filterText","handleFilter","value","onChange","PersonForm","handleNameChange","handleNumberChange","addPerson","newName","newNumber","onSubmit","type","Details","props","name","number","Person","Persons","personsToShow","handleClick","map","person","key","onClick","url","axios","get","then","response","data","newObject","post","id","delete","put","style","background","color","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","Notification","message","errorState","className","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterText","notificationMessage","setNotificationMessage","setErrorState","useEffect","personcontrol","filter","toLowerCase","includes","e","target","preventDefault","personObject","find","window","confirm","personToUpdate","changedNumber","returnedPerson","setTimeout","catch","error","concat","returned","existingPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.feb4e11e.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filterText, handleFilter}) => {\n    return (\n        <div>\n            filter shown with <input value={filterText} onChange = {handleFilter}></input>\n            </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({handleNameChange, handleNumberChange, addPerson,newName,newNumber}) => {\n    return (\n    <form onSubmit={addPerson}>\n        <div>name: <input value={newName} onChange = {handleNameChange} /></div>\n        <div>number:<input value={newNumber} onChange ={handleNumberChange} /></div>\n        <div><button type=\"submit\">add</button></div>\n      </form>\n    )\n}\n\n\n\n\n\n  export default PersonForm","import React from 'react'\n\nconst Person = (props) => {\n    return (\n    <>\n        <Details name = {props.name} number = {props.number} />\n    </>\n)}\n\nconst Details = (props) => {\n    return (\n        <>\n        {props.name} {props.number}\n        </>\n    )\n    }\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({personsToShow, handleClick}) => {\n\n    return (\n    <div>\n        {personsToShow.map(person => \n        <p key ={person.name}>\n          <Person key ={person.name} name = {person.name} number = {person.number} /> \n          <button onClick={() => handleClick(person)}>delete</button>\n        </p>)}\n      </div>\n    )\n}\n\nexport default Persons\n   ","import axios from 'axios'\nconst url = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(url)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(url, newObject)\n    return request.then(response => response.data)\n  }\n\nconst remove = id => {\n    return axios.delete(`${url}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  const request =  axios.put(`${url}/${id}`,newObject)\n  return request.then(response => response.data)\n}\n   \n  export default {getAll, create, remove, update}","import React from 'react'\n\nconst Notification =({ message,errorState }) => {\n    if (message === null) {\n        return null;\n    }\n\n        if (errorState === 'no') {\n            return (\n                <div style = {style} className=\"notification\">\n                    {message}\n                </div>\n            )\n        } else if (errorState === 'yes'){\n            return (\n                <div style = {errorStyle}>\n                    {message}\n                </div>\n            )\n        }\n        \n}\n\nconst style = {\n        background: 'lightgray',\n        color: 'green',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n}\n\nconst errorStyle = {\n        background: 'lightgray',\n        color: 'red',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personcontrol from './services/personcontrol'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterText, setFilterText] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorState, setErrorState] = useState('no')\n\n  useEffect(() => {\n    personcontrol\n    .getAll()\n    .then(persons=> {\n      setPersons(persons)\n    })\n  }, [])\n\n  const addPerson = (e) => {\n    e.preventDefault()\n    const personObject = {\n      name: newName,\n      key: newName,\n      number: newNumber\n    }\n     if (persons.find(person => person.name === newName )) {\n       if(window.confirm(`${newName} is already in the phonebook, replace the old number with a new one?`)) {\n        const personToUpdate = persons.find(person => person.name === newName)\n        const changedNumber = {...personToUpdate, number: newNumber}\n \n        personcontrol\n        .update(personToUpdate.id, changedNumber)\n        .then(returnedPerson => {\n           setPersons(persons.map(person => person.id !== personToUpdate.id ? person : returnedPerson))\n           setNotificationMessage(`updated the number for ${newName}`)\n           setTimeout(() => {\n             setNotificationMessage(null)\n           }, 5000)\n          })\n        .catch(error =>  {\n          setNotificationMessage(`Information of ${newName} has already been removed from the server`)\n          setErrorState('yes')\n        }, 5000\n        )}\n      } else {\n        personcontrol\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n        setNewName('') \n        setNewNumber('') \n        setNotificationMessage(`added ${newName}`)\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n    })}\n  }\n\n  const personsToShow =! filterText\n  ? persons\n  : persons.filter (person =>\n    person.name.toLowerCase().includes(filterText.toLowerCase()))\n  \n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n  \n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n  \n\n  const handleFilterChange = (e) => {\n    setFilterText(e.target.value)\n  }\n\n  const deletePerson = (person) => {\n    if (window.confirm(`Delete ${person.name} ?`)) {\n    personcontrol\n    .remove(person.id).then(returned=> {\n      setPersons(persons.filter(existingPerson => existingPerson.id !== person.id))\n    })} else {\n\n    }\n    setNotificationMessage(`deleted ${person.name}`)\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      \n      <Notification message={notificationMessage} errorState={errorState} />\n\n      <Filter value = {filterText} handleFilter = {handleFilterChange} />\n\n      <h2>add a new</h2>\n\n      <PersonForm addPerson = {addPerson} handleNameChange = {handleNameChange}\n      handleNumberChange = {handleNumberChange}\n      newName = {newName} newNumber = {newNumber}\n      />\n\n      <h2>Numbers</h2>\n\n      <Persons personsToShow = {personsToShow} handleClick = {deletePerson}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\n\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}